---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Container from '../components/Container.astro';
import FormField from '../components/FormField.astro';
import Button from '../components/Button.astro';

// Ensure BASE_URL always ends with a slash for proper path joining
const baseUrl = import.meta.env.BASE_URL.endsWith('/') 
	? import.meta.env.BASE_URL 
	: `${import.meta.env.BASE_URL}/`;
---

<Layout title="Sign Up - THE FIG">
	<Header currentPage={`${baseUrl}signup`} />
	<main class="main-content">
		<Container>
			<section class="signup-section">
				<h2 class="section-title">SIGN UP</h2>
				<p class="section-subtitle">Register for next year's tournament</p>
				
				<form class="signup-form" method="POST" action={`${baseUrl}api/signup`}>
					<FormField 
						label="First Name" 
						name="firstName" 
						required={true}
						placeholder="Enter your first name"
					/>
					
					<FormField 
						label="Last Name" 
						name="lastName" 
						required={true}
						placeholder="Enter your last name"
					/>
					
					<FormField 
						label="Email" 
						name="email" 
						type="email"
						required={true}
						placeholder="Enter your email address"
					/>
					
					<div class="form-actions">
						<Button type="submit" variant="primary">
							Submit Registration
						</Button>
					</div>
				</form>
			</section>
		</Container>
	</main>
</Layout>

<style>
	.main-content {
		flex: 1;
		padding: var(--spacing-xl) 0;
		min-height: calc(100vh - 100px);
	}

	.signup-section {
		max-width: 600px;
		margin: 0 auto;
	}

	.section-title {
		font-size: 3rem;
		font-weight: 700;
		margin-bottom: var(--spacing-sm);
		color: var(--color-primary-dark);
		text-align: left;
	}

	.section-subtitle {
		font-size: 1.125rem;
		color: var(--color-text-light);
		margin-bottom: var(--spacing-xl);
		font-weight: 400;
	}

	.signup-form {
		background-color: var(--color-background);
		padding: var(--spacing-xl);
		border-radius: 8px;
		border: 1px solid var(--color-border);
	}

	.form-actions {
		margin-top: var(--spacing-lg);
		display: flex;
		justify-content: flex-start;
	}

	@media (max-width: 768px) {
		.section-title {
			font-size: 2rem;
		}

		.main-content {
			padding: var(--spacing-lg) 0;
		}

		.signup-form {
			padding: var(--spacing-md);
		}
	}
</style>

